{"ast":null,"code":"import _classCallCheck from\"/Users/jayson.coppoNeudesic.com/Projects/Big-bulletin-board/big-bulletin-board-ts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jayson.coppoNeudesic.com/Projects/Big-bulletin-board/big-bulletin-board-ts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jayson.coppoNeudesic.com/Projects/Big-bulletin-board/big-bulletin-board-ts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jayson.coppoNeudesic.com/Projects/Big-bulletin-board/big-bulletin-board-ts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from'react';import'./App.css';import BoardState from'./enums/BoardState';import Board from'./components/Board';import PostCreateForm from'./components/PostCreateForm';// import samplePosts from './SamplePosts';\nimport Color from'./utils/Color';import postService from'./services/PostsService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={posts:[],boardState:BoardState.Reading,postClickedId:'',postColor:Color.randomLightColor(),//TODO: get user color\nnewPost_X:0,newPost_Y:0};_this.getAllPosts=function(){postService.get().then(function(json){var posts=json.map(function(post){return{id:post._id,parentPostId:post.parentPostId||undefined,user:post.user,date:post.createdAt,message:post.message,color:post.color,x:post.x,y:post.y};});_this.setState({posts:posts});}).catch(function(err){console.log('err',err);});};_this.postClicked=function(id){_this.setState({boardState:BoardState.SelectingLocation,postClickedId:id});};_this.presentPostCreateForm=function(x,y){_this.setState({boardState:BoardState.WritingPost,newPost_X:x,newPost_Y:y});};_this.createPostSubitted=function(message){var newPost={parentPostId:_this.state.postClickedId,user:'Myself',message:message,color:_this.state.postColor,x:_this.state.newPost_X-80,y:_this.state.newPost_Y-30};_this.setState({boardState:BoardState.Reading});postService.create(newPost).then(function(post){_this.getAllPosts();});};_this.cancelPost=function(){_this.setState({boardState:BoardState.Reading});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAllPosts();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Board,{boardState:this.state.boardState,posts:this.state.posts,postClicked:this.postClicked,postCreate:this.presentPostCreateForm,postColor:this.state.postColor}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-overlay\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"The Big Bulletin Board\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header-bar\"})]}),this.state.boardState===BoardState.WritingPost&&/*#__PURE__*/_jsx(\"div\",{className:\"comment-form-container\",children:/*#__PURE__*/_jsx(PostCreateForm,{onSubmit:this.createPostSubitted,onCancel:this.cancelPost,color:this.state.postColor})})]})]});}}]);return App;}(Component);export{App as default};","map":{"version":3,"sources":["/Users/jayson.coppoNeudesic.com/Projects/Big-bulletin-board/big-bulletin-board-ts/src/App.tsx"],"names":["Component","BoardState","Board","PostCreateForm","Color","postService","App","state","posts","boardState","Reading","postClickedId","postColor","randomLightColor","newPost_X","newPost_Y","getAllPosts","get","then","json","map","post","id","_id","parentPostId","undefined","user","date","createdAt","message","color","x","y","setState","catch","err","console","log","postClicked","SelectingLocation","presentPostCreateForm","WritingPost","createPostSubitted","newPost","create","cancelPost"],"mappings":"gxBAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,oBAAvB,CAIA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,6BAA3B,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,C,2FAWqBC,CAAAA,G,+SAEnBC,K,CAAkB,CAChBC,KAAK,CAAE,EADS,CAEhBC,UAAU,CAAER,UAAU,CAACS,OAFP,CAGhBC,aAAa,CAAE,EAHC,CAIhBC,SAAS,CAAER,KAAK,CAACS,gBAAN,EAJK,CAIqB;AACrCC,SAAS,CAAE,CALK,CAMhBC,SAAS,CAAE,CANK,C,OAalBC,W,CAAc,UAAM,CAClBX,WAAW,CAACY,GAAZ,GACGC,IADH,CACQ,SAACC,IAAD,CAAe,CACnB,GAAMX,CAAAA,KAAa,CAAGW,IAAI,CAACC,GAAL,CAAS,SAACC,IAAD,CAAwB,CACrD,MAAO,CACLC,EAAE,CAAED,IAAI,CAACE,GADJ,CAELC,YAAY,CAAEH,IAAI,CAACG,YAAL,EAAqBC,SAF9B,CAGLC,IAAI,CAAEL,IAAI,CAACK,IAHN,CAILC,IAAI,CAAEN,IAAI,CAACO,SAJN,CAKLC,OAAO,CAAER,IAAI,CAACQ,OALT,CAMLC,KAAK,CAAET,IAAI,CAACS,KANP,CAOLC,CAAC,CAAEV,IAAI,CAACU,CAPH,CAQLC,CAAC,CAAEX,IAAI,CAACW,CARH,CAAP,CAUD,CAXqB,CAAtB,CAaA,MAAKC,QAAL,CAAc,CAAEzB,KAAK,CAAEA,KAAT,CAAd,EACD,CAhBH,EAiBG0B,KAjBH,CAiBS,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBF,GAAnB,EACD,CAnBH,EAoBD,C,OAEDG,W,CAAc,SAAChB,EAAD,CAAgB,CAC5B,MAAKW,QAAL,CAAc,CACZxB,UAAU,CAAER,UAAU,CAACsC,iBADX,CAEZ5B,aAAa,CAAEW,EAFH,CAAd,EAID,C,OAEDkB,qB,CAAwB,SAACT,CAAD,CAAYC,CAAZ,CAA0B,CAChD,MAAKC,QAAL,CAAc,CACZxB,UAAU,CAAER,UAAU,CAACwC,WADX,CAEZ3B,SAAS,CAAEiB,CAFC,CAGZhB,SAAS,CAAEiB,CAHC,CAAd,EAKD,C,OAEDU,kB,CAAqB,SAACb,OAAD,CAAqB,CACxC,GAAMc,CAAAA,OAAoB,CAAG,CAC3BnB,YAAY,CAAE,MAAKjB,KAAL,CAAWI,aADE,CAE3Be,IAAI,CAAE,QAFqB,CAG3BG,OAAO,CAAEA,OAHkB,CAI3BC,KAAK,CAAE,MAAKvB,KAAL,CAAWK,SAJS,CAK3BmB,CAAC,CAAE,MAAKxB,KAAL,CAAWO,SAAX,CAAuB,EALC,CAM3BkB,CAAC,CAAE,MAAKzB,KAAL,CAAWQ,SAAX,CAAuB,EANC,CAA7B,CASA,MAAKkB,QAAL,CAAc,CACZxB,UAAU,CAAER,UAAU,CAACS,OADX,CAAd,EAIAL,WAAW,CAACuC,MAAZ,CAAmBD,OAAnB,EAA4BzB,IAA5B,CAAiC,SAAAG,IAAI,CAAI,CACvC,MAAKL,WAAL,GACD,CAFD,EAGD,C,OAED6B,U,CAAa,UAAM,CACjB,MAAKZ,QAAL,CAAc,CAAExB,UAAU,CAAER,UAAU,CAACS,OAAzB,CAAd,EACD,C,gEA/DD,4BAAoB,CAClB,KAAKM,WAAL,GACD,C,sBA+DD,iBAAS,CACP,mBAAO,oCACL,KAAC,KAAD,EACE,UAAU,CAAE,KAAKT,KAAL,CAAWE,UADzB,CAEE,KAAK,CAAE,KAAKF,KAAL,CAAWC,KAFpB,CAGE,WAAW,CAAE,KAAK8B,WAHpB,CAIE,UAAU,CAAE,KAAKE,qBAJnB,CAKE,SAAS,CAAE,KAAKjC,KAAL,CAAWK,SALxB,EADK,cAQL,aAAK,SAAS,CAAC,YAAf,wBACE,oCACE,8CADF,cAEE,YAAK,SAAS,CAAC,YAAf,EAFF,GADF,CAKG,KAAKL,KAAL,CAAWE,UAAX,GAA0BR,UAAU,CAACwC,WAArC,eACC,YAAK,SAAS,CAAC,wBAAf,uBACE,KAAC,cAAD,EACE,QAAQ,CAAE,KAAKC,kBADjB,CAEE,QAAQ,CAAE,KAAKG,UAFjB,CAGE,KAAK,CAAE,KAAKtC,KAAL,CAAWK,SAHpB,EADF,EANJ,GARK,GAAP,CAwBD,C,iBArG8BZ,S,SAAZM,G","sourcesContent":["import { Component } from 'react';\nimport './App.css';\nimport BoardState from './enums/BoardState';\nimport Post from './models/Post';\nimport PostRequest from './models/PostRequest';\nimport PostResponse from './models/PostResponse';\nimport Board from './components/Board';\nimport PostCreateForm from './components/PostCreateForm';\n// import samplePosts from './SamplePosts';\nimport Color from './utils/Color';\nimport postService from './services/PostsService'\n\ntype AppState = {\n  posts: Post[],\n  boardState: BoardState,\n  postClickedId: string,\n  postColor: string,\n  newPost_X: number,\n  newPost_Y: number,\n}\n\nexport default class App extends Component {\n\n  state: AppState = {\n    posts: [],\n    boardState: BoardState.Reading,\n    postClickedId: '',\n    postColor: Color.randomLightColor(), //TODO: get user color\n    newPost_X: 0,\n    newPost_Y: 0\n  }\n\n  componentDidMount() {\n    this.getAllPosts();\n  }\n\n  getAllPosts = () => {\n    postService.get()\n      .then((json: any) => {\n        const posts: Post[] = json.map((post: PostResponse) => {\n          return {\n            id: post._id,\n            parentPostId: post.parentPostId || undefined,\n            user: post.user,\n            date: post.createdAt,\n            message: post.message,\n            color: post.color,\n            x: post.x,\n            y: post.y\n          }\n        })\n\n        this.setState({ posts: posts })\n      })\n      .catch(err => {\n        console.log('err', err);\n      })\n  }\n\n  postClicked = (id: string) => {\n    this.setState({\n      boardState: BoardState.SelectingLocation,\n      postClickedId: id\n    });\n  }\n\n  presentPostCreateForm = (x: number, y: number) => {\n    this.setState({\n      boardState: BoardState.WritingPost,\n      newPost_X: x,\n      newPost_Y: y\n    });\n  }\n\n  createPostSubitted = (message: string) => {\n    const newPost: PostRequest = {\n      parentPostId: this.state.postClickedId,\n      user: 'Myself',\n      message: message,\n      color: this.state.postColor,\n      x: this.state.newPost_X - 80,\n      y: this.state.newPost_Y - 30,\n    }\n\n    this.setState({\n      boardState: BoardState.Reading,\n    })\n\n    postService.create(newPost).then(post => {\n      this.getAllPosts();\n    });\n  }\n\n  cancelPost = () => {\n    this.setState({ boardState: BoardState.Reading })\n  }\n\n  render() {\n    return <div>\n      <Board\n        boardState={this.state.boardState}\n        posts={this.state.posts}\n        postClicked={this.postClicked}\n        postCreate={this.presentPostCreateForm}\n        postColor={this.state.postColor}\n      />\n      <div className=\"ui-overlay\">\n        <div>\n          <h1>The Big Bulletin Board</h1>\n          <div className=\"header-bar\" />\n        </div>\n        {this.state.boardState === BoardState.WritingPost && (\n          <div className='comment-form-container'>\n            <PostCreateForm\n              onSubmit={this.createPostSubitted}\n              onCancel={this.cancelPost}\n              color={this.state.postColor}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  }\n}"]},"metadata":{},"sourceType":"module"}