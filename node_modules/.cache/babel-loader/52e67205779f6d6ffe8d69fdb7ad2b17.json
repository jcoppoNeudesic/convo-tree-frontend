{"ast":null,"code":"var _jsxFileName = \"/Users/jayson.coppoNeudesic.com/Documents/Projects/Big-bulletin-board/big-bulletin-board-ts/src/components/Board.tsx\";\nimport { Component } from 'react';\nimport \"./Board.css\";\nimport PostView from './PostView';\nimport LineView from './LineView';\nimport BoardState from '.././enums/BoardState';\nimport Geometry from '../utils/Geometry'; // import PostConnectionLine from './PostConnectionLine';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Board extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      mouse_X: 0,\n      mouse_Y: 0,\n      clickedPost_X: 0,\n      clickedPost_Y: 0,\n      newPost_X: 0,\n      newPost_Y: 0\n    };\n\n    this.getConnectionLines = () => {\n      let lines = [];\n      this.props.posts.forEach((post, i) => {\n        const parentPost = this.findPost(post.parentPostId);\n\n        if (parentPost) {\n          const lineLength = Geometry.pointDistance(post.x, post.y, parentPost.x, parentPost.y);\n          const lineLeft = (parentPost.x + 90 + post.x + 90) / 2 - lineLength / 2;\n          const lineTop = (post.y + 40 + parentPost.y + 40) / 2;\n          const lineAngle = Geometry.pointAngleDegrees(parentPost.x + 90, parentPost.y + 40, post.x + 90, post.y + 40);\n          let newLine = {\n            left: lineLeft,\n            top: lineTop,\n            width: lineLength,\n            transform: `rotate(${lineAngle}deg)`\n          };\n          lines.push(newLine);\n        }\n      });\n      return lines;\n    };\n\n    this.boardClicked = () => {\n      if (this.props.boardState === BoardState.SelectingLocation) {\n        this.setState({\n          newPost_X: this.state.mouse_X,\n          newPost_Y: this.state.mouse_Y\n        });\n        this.props.postCreate(this.state.mouse_X, this.state.mouse_Y);\n      }\n    };\n\n    this.handleMouseMove = e => {\n      let {\n        clientX,\n        clientY\n      } = e.nativeEvent;\n      this.setState({\n        mouse_X: clientX,\n        mouse_Y: clientY\n      });\n    };\n\n    this.postClicked = post => {\n      if (this.props.boardState === BoardState.Reading) {\n        this.props.postClicked(post.id);\n        this.setState({\n          clickedPost_X: post.x + 90,\n          clickedPost_Y: post.y + 40\n        });\n      }\n    };\n\n    this.findPost = id => {\n      return this.props.posts.find(post => post.id === id);\n    };\n  }\n\n  render() {\n    const {\n      clickedPost_X,\n      clickedPost_Y,\n      newPost_X,\n      newPost_Y,\n      mouse_X,\n      mouse_Y\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"board\",\n      onClick: this.boardClicked,\n      onMouseMove: this.handleMouseMove,\n      children: [this.props.posts.map((post, i) => {\n        return /*#__PURE__*/_jsxDEV(PostView, {\n          post: post,\n          handleClick: this.postClicked\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 28\n        }, this);\n      }), this.getConnectionLines().map((line, i) => {\n        return /*#__PURE__*/_jsxDEV(LineView, {\n          x1: line.left,\n          y1: line.top,\n          x2: line.width,\n          y2: line.transform\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 28\n        }, this); // return <PostConnectionLine key={i} post={post} />\n        // const parentPost = this.findPost(post.parentPostId);\n        // if (parentPost) {\n        //     return <PostConnectionLine key={i} post={post} parentPost={parentPost} />\n        // }\n        // return null;\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.props.boardState === BoardState.SelectingLocation ? '' : 'hidden',\n        children: /*#__PURE__*/_jsxDEV(LineView, {\n          x1: clickedPost_X,\n          y1: clickedPost_Y,\n          x2: mouse_X,\n          y2: mouse_Y\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.props.boardState === BoardState.WritingPost ? 'connection-line' : 'hidden',\n        style: {\n          left: (clickedPost_X + newPost_X) / 2 - Geometry.pointDistance(clickedPost_X, clickedPost_Y, newPost_X, newPost_Y) / 2,\n          top: (clickedPost_Y + newPost_Y) / 2,\n          width: Geometry.pointDistance(clickedPost_X, clickedPost_Y, newPost_X, newPost_Y),\n          transform: `rotate(${Geometry.pointAngleDegrees(clickedPost_X, clickedPost_Y, newPost_X, newPost_Y)}deg)`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.props.boardState !== BoardState.Reading ? 'post-cursor-box' : 'hidden',\n        style: {\n          left: this.props.boardState === BoardState.SelectingLocation ? this.state.mouse_X - 30 : this.state.newPost_X - 30,\n          top: this.props.boardState === BoardState.SelectingLocation ? this.state.mouse_Y - 30 : this.state.newPost_Y - 30,\n          backgroundColor: this.props.postColor\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/jayson.coppoNeudesic.com/Documents/Projects/Big-bulletin-board/big-bulletin-board-ts/src/components/Board.tsx"],"names":["Component","PostView","LineView","BoardState","Geometry","Board","state","mouse_X","mouse_Y","clickedPost_X","clickedPost_Y","newPost_X","newPost_Y","getConnectionLines","lines","props","posts","forEach","post","i","parentPost","findPost","parentPostId","lineLength","pointDistance","x","y","lineLeft","lineTop","lineAngle","pointAngleDegrees","newLine","left","top","width","transform","push","boardClicked","boardState","SelectingLocation","setState","postCreate","handleMouseMove","e","clientX","clientY","nativeEvent","postClicked","Reading","id","find","render","map","line","WritingPost","backgroundColor","postColor"],"mappings":"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","sourcesContent":["import { Component, MouseEvent } from 'react';\nimport \"./Board.css\"\nimport PostView from './PostView';\nimport LineView from './LineView';\nimport Post from '../models/Post';\nimport BoardState from '.././enums/BoardState';\nimport Geometry from '../utils/Geometry'\n// import PostConnectionLine from './PostConnectionLine';\n\ntype BoardProps = {\n    boardState: BoardState,\n    posts: Post[],\n    postClicked: (id: number) => void,\n    postCreate: (x: number, y: number) => void,\n    postColor: string\n}\n\ntype BoardCompState = {\n    mouse_X: number,\n    mouse_Y: number,\n    clickedPost_X: number,\n    clickedPost_Y: number,\n    newPost_X: number,\n    newPost_Y: number\n}\n\ntype LineStyle = {\n    left: number,\n    top: number,\n    width: number,\n    transform: string\n}\n\nexport default class Board extends Component<BoardProps, BoardCompState> {\n    state: BoardCompState = {\n        mouse_X: 0,\n        mouse_Y: 0,\n        clickedPost_X: 0,\n        clickedPost_Y: 0,\n        newPost_X: 0,\n        newPost_Y: 0\n    }\n\n    getConnectionLines = () => {\n        let lines: any = [];\n        this.props.posts.forEach((post, i) => {\n            const parentPost = this.findPost(post.parentPostId);\n            if (parentPost) {\n                const lineLength = Geometry.pointDistance(post.x, post.y, parentPost.x, parentPost.y)\n                const lineLeft = ((parentPost.x + 90 + post.x + 90) / 2) - (lineLength / 2);\n                const lineTop = (post.y + 40 + parentPost.y + 40) / 2;\n                const lineAngle = Geometry.pointAngleDegrees(parentPost.x + 90, parentPost.y + 40, post.x + 90, post.y + 40);\n                let newLine = {\n                    left: lineLeft,\n                    top: lineTop,\n                    width: lineLength,\n                    transform: `rotate(${lineAngle}deg)`\n                }\n                lines.push(newLine);\n            }\n        })\n        return lines;\n    }\n\n    boardClicked = () => {\n        if (this.props.boardState === BoardState.SelectingLocation) {\n            this.setState({\n                newPost_X: this.state.mouse_X,\n                newPost_Y: this.state.mouse_Y\n            })\n            this.props.postCreate(this.state.mouse_X, this.state.mouse_Y);\n        }\n    }\n\n    handleMouseMove = (e: MouseEvent) => {\n        let { clientX, clientY } = e.nativeEvent;\n        this.setState({\n            mouse_X: clientX,\n            mouse_Y: clientY\n        })\n    }\n\n    postClicked = (post: Post) => {\n        if (this.props.boardState === BoardState.Reading) {\n            this.props.postClicked(post.id);\n\n            this.setState({\n                clickedPost_X: post.x + 90,\n                clickedPost_Y: post.y + 40\n            });\n        }\n    }\n\n    findPost = (id?: number): Post | undefined => {\n        return this.props.posts.find(post => post.id === id);\n    }\n\n    render() {\n        const { clickedPost_X, clickedPost_Y, newPost_X, newPost_Y, mouse_X, mouse_Y } = this.state;\n        return (\n            <div className=\"board\" onClick={this.boardClicked} onMouseMove={this.handleMouseMove}>\n                {this.props.posts.map((post, i) => {\n                    return <PostView key={i} post={post} handleClick={this.postClicked} />\n                })}\n                {this.getConnectionLines().map((line: any, i: number) => {\n                    return <LineView\n                        key={i}\n                        x1={line.left}\n                        y1={line.top}\n                        x2={line.width}\n                        y2={line.transform}\n                    />\n\n                    // return <PostConnectionLine key={i} post={post} />\n                    // const parentPost = this.findPost(post.parentPostId);\n                    // if (parentPost) {\n                    //     return <PostConnectionLine key={i} post={post} parentPost={parentPost} />\n                    // }\n                    // return null;\n                })}\n                <div className={this.props.boardState === BoardState.SelectingLocation ? '' : 'hidden'}>\n                    <LineView x1={clickedPost_X} y1={clickedPost_Y} x2={mouse_X} y2={mouse_Y} />\n                </div>\n                <div\n                    className={this.props.boardState === BoardState.WritingPost ? 'connection-line' : 'hidden'}\n                    style={{\n                        left: ((clickedPost_X + newPost_X) / 2) - (Geometry.pointDistance(clickedPost_X, clickedPost_Y, newPost_X, newPost_Y) / 2),\n                        top: ((clickedPost_Y + newPost_Y) / 2),\n                        width: Geometry.pointDistance(clickedPost_X, clickedPost_Y, newPost_X, newPost_Y),\n                        transform: `rotate(${Geometry.pointAngleDegrees(clickedPost_X, clickedPost_Y, newPost_X, newPost_Y)}deg)`\n                    }}>\n                </div>\n                <div\n                    className={this.props.boardState !== BoardState.Reading ? 'post-cursor-box' : 'hidden'}\n                    style={{\n                        left: this.props.boardState === BoardState.SelectingLocation ? this.state.mouse_X - 30 : this.state.newPost_X - 30,\n                        top: this.props.boardState === BoardState.SelectingLocation ? this.state.mouse_Y - 30 : this.state.newPost_Y - 30,\n                        backgroundColor: this.props.postColor\n                    }}>\n                </div>\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}